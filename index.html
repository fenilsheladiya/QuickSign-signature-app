<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eAutograph</title>
    <!-- <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .main {
            background: #ffffff;
            box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .top, .bottom {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            width: 100%;
        }

        .colorspart {
            flex: 1 1 calc(25% - 15px);
            min-width: 180px;
        }

        .colorspart p {
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            transition: all 0.3s ease-in-out;
        }

        input:focus, select:focus, button:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.4);
        }

        button {
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover {
            background: #0056b3;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .canvas {
            border: 2px solid #333;
            border-radius: 5px;
            margin: 20px 0;
            width: 100%;
            max-width: 800px;
            background-color: #f8f9fa;
            cursor: crosshair;
        }

        @media (max-width: 600px) {
            .colorspart {
                flex: 1 1 100%;
            }

            button {
                font-size: 13px;
            }
        }
    </style> -->
    <style>
        /* Global styles */
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(120deg, #4facfe, #00f2fe);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
    
        .main {
            background: #ffffff;
            box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 850px;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 1.5s ease-out;
            box-sizing: border-box; /* Ensures padding does not increase element size */
        }
    
        .top, .bottom {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            width: 100%;
            margin-top: 10px;
            box-sizing: border-box;
        }
    
        .colorspart {
            flex: 1 1 calc(25% - 20px);
            min-width: 180px;
            text-align: center;
            animation: slideIn 1s ease-out;
        }
    
        .colorspart p {
            font-size: 15px;
            color: #333;
            font-weight: bold;
            margin-bottom: 8px;
        }
    
        input, select, button {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background-color: #f9f9f9;
            transition: all 0.3s ease-in-out;
            box-sizing: border-box;
        }
    
        input:focus, select:focus, button:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 8px rgba(79, 172, 254, 0.6);
        }
    
        button {
            cursor: pointer;
            font-weight: bold;
            color: white;
            border: none;
            background: linear-gradient(120deg, #34e89e, #0f3443);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
    
        button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
        }
    
        .btn-danger {
            background: linear-gradient(120deg, #ff416c, #ff4b2b);
        }
    
        .btn-danger:hover {
            background: linear-gradient(120deg, #e7355d, #d62f22);
        }
    
        .btn-success {
            background: linear-gradient(120deg, #43cea2, #185a9d);
        }
    
        .btn-success:hover {
            background: linear-gradient(120deg, #3ab88f, #14487b);
        }
    
        .btn-warning {
            background: linear-gradient(120deg, #f7971e, #ffd200);
        }
    
        .btn-warning:hover {
            background: linear-gradient(120deg, #e07b10, #dbb200);
        }
    
        .canvas {
            border: 4px dashed #333;
            border-radius: 10px;
            margin: 20px 0;
            width: 100%;
            height: auto;
            max-width: 800px;
            max-height: 400px;
            background: #ffffff;
            animation: pulse 2s infinite;
            transition: border-color 0.3s ease;
        }
    
        .canvas:hover {
            border-color: #4facfe;
        }
    
        @media (max-width: 600px) {
            .colorspart {
                flex: 1 1 100%;
            }
    
            button {
                font-size: 13px;
            }
        }
    
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    
        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 10px rgba(79, 172, 254, 0.3);
            }
            50% {
                box-shadow: 0 0 20px rgba(79, 172, 254, 0.6);
            }
        }
    </style>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="icon" href="favicon-16x16.png">
</head>
<body>
    <div class="main">
        <div class="top">
            <div class="colorspart">
                <p>Text Color</p>
                <input type="color" class="form-control" id="textcolorpicker">
            </div>
            <div class="colorspart">
                <p>Background Color</p>
                <input type="color" class="form-control" id="bgcolorpicker">
            </div>
            <div class="colorspart">
                <p>Font Size</p>
                <select class="form-control" id="fontsize">
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                </select>
            </div>
        </div>
        <canvas class="canvas" id="mycanvas" width="800" height="500"></canvas>
        <div class="bottom">
            <button class="btn btn-danger" id="clearbutton">Clear</button>
            <button class="btn btn-success" id="savebutton">Save & Download</button>
            <button class="btn btn-warning" id="retrievebutton">Retrieve</button>
        </div>
    </div>
    <script>
        // JavaScript code remains the same as in your original implementation
        const txtcolorpicker = document.getElementById("textcolorpicker");
        const bgcolorpicker = document.getElementById("bgcolorpicker");
        const fontsize = document.getElementById("fontsize");
        const canvas = document.getElementById("mycanvas");
        const clearbutton = document.getElementById("clearbutton");
        const savebutton = document.getElementById("savebutton");
        const retrievebutton = document.getElementById("retrievebutton");
       



        //In the HTML5 <canvas> element, the getContext('2d') method is used to get the 2D rendering context for drawing on the canvas. It returns an object that provides methods and properties for drawing and manipulating graphics on the canvas.
        const ctx = canvas.getContext('2d');

        txtcolorpicker.addEventListener('change',(e) =>{   // change the color
            ctx.strokeStyle = e.target.value;
            ctx.fillStyle = e.target.value; //fill
        })

        canvas.addEventListener('mousedown',(e)=>{
            isDrawing = true;
            lastX = event.offsetx;
            lastY = event.offsetY;
        })
        
        canvas.addEventListener('mousemove',(e)=>{
           if(isDrawing){ 
            ctx.beginPath() //begin drawing
            ctx.moveTo(lastX,lastY); //starting point to end point move
            ctx.lineTo(e.offsetX,e.offsetY);// for line draw
            ctx.stroke(); // draw starting

            lastX  = e.offsetX;  //curretn mouse position
            lastY = e.offsetY;
           }  
        })

        //for close draw when mouse up
        canvas.addEventListener('mouseup', (e) =>{
            isDrawing = false;
          
        })

        bgcolorpicker.addEventListener('change',(e)=>{
            ctx.fillStyle = e.target.value; //fill
            ctx.fillRect(0,0,canvas.width,canvas.height); //fill background
        })

   
        
        fontsize.addEventListener('change',(e)=>{
            //change font size
            ctx.lineWidth = e.target.value; 
        })

        clearbutton.addEventListener('click',(e)=>{
            ctx.clearRect(0,0,canvas.width,canvas.height)
        })

        savebutton.addEventListener('click',(e) =>{
            localStorage.setItem('canvasContents',canvas.toDataURL()); //canvascontent change to in the url
            
            let link = document.createElement('a');

            link.download = 'mycanvas.png';

            link.href = canvas.toDataURL();

            link.click();
        })

        retrievebutton.addEventListener('click',(e)=>{
            let savedcanvas = localStorage.getItem('canvasContents');

            if(savedcanvas){
                let img = new Image(); //new image object create
                img.src = savedcanvas;  //image source change to saved canvas content

                ctx.drawImage(img,0,0);//same image draw
            }
        })
    </script>
</body>
</html>
